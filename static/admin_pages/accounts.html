<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h2>Cuentas por Mesa</h2>
    <button id="btn-create-mesa" class="form-btn" style="background-color: var(--success-color); padding: 10px 20px; cursor: pointer;" title="Crear nueva mesa">
        ➕ Nueva Mesa
    </button>
</div>
<div class="card">
    <h3>Cuentas Registradas</h3>
    <p style="color: var(--text-secondary); margin-bottom: 15px;">Las cuentas se crean automáticamente al crear una
        nueva mesa.</p>
    <div id="accounts-grid" class="grid grid-3">
        <!-- Las tarjetas de estado de cuenta se generarán aquí -->
    </div>
</div>

<!-- Payment Modal (manejado por admin_dashboard.html) -->

<!-- Account History Modal -->
<div id="account-history-modal"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:2000; align-items:center; justify-content:center;">
    <div class="card" style="width: 500px; max-height: 80vh; display: flex; flex-direction: column;">
        <h3>Historial de Cuentas</h3>
        <div id="history-list" style="overflow-y: auto; flex: 1; margin: 15px 0;">
            <!-- Historical accounts list -->
        </div>
        <div style="text-align: right;">
            <button type="button" id="history-modal-close" class="form-btn"
                style="background-color:var(--text-secondary);">Cerrar</button>
        </div>
    </div>
</div>

<!-- Account Details Modal (Reusable for history details) -->
<div id="account-details-modal"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:2010; align-items:center; justify-content:center;">
    <div class="card" style="width: 600px; max-height: 85vh; display: flex; flex-direction: column;">
        <h3 id="details-title">Detalles de Cuenta</h3>
        <div id="details-content" style="overflow-y: auto; flex: 1; margin: 15px 0;">
            <!-- Content -->
        </div>
        <div style="text-align: right;">
            <button type="button" id="details-modal-close" class="form-btn"
                style="background-color:var(--text-secondary);">Cerrar</button>
        </div>
    </div>
</div>

<!-- Create Mesa Modal -->
<div id="create-mesa-modal"
    style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:2020; align-items:center; justify-content:center;">
    <div class="card" style="width: 450px;">
        <h3>Crear Nueva Mesa</h3>
        <form id="create-mesa-form">
            <div class="form-group">
                <label for="mesa-numero">Número de Mesa</label>
                <input type="number" id="mesa-numero" name="numero" placeholder="Ej: 1, 2, 3..." min="1" required>
            </div>
            <div class="form-group">
                <label for="mesa-nombre">Nombre Personalizado (Opcional)</label>
                <input type="text" id="mesa-nombre" name="nombre" placeholder="Ej: Toscana, VIP, Rincón, etc.">
            </div>
            <div style="display:flex; gap:10px; margin-top:20px;">
                <button type="submit" class="form-btn" style="flex:1; background-color: var(--success-color);">Crear Mesa</button>
                <button type="button" id="create-mesa-modal-close" class="form-btn"
                    style="flex:1; background-color:var(--text-secondary);">Cancelar</button>
            </div>
        </form>
    </div>
</div>
